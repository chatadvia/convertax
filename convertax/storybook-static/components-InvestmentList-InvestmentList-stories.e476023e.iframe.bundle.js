"use strict";(self.webpackChunkconvertax=self.webpackChunkconvertax||[]).push([[135],{"./src/components/InvestmentList/InvestmentList.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>InvestmentList_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),Container=__webpack_require__("./node_modules/@mui/material/Container/Container.js"),Typography=__webpack_require__("./node_modules/@mui/material/Typography/Typography.js"),Button=__webpack_require__("./node_modules/@mui/material/Button/Button.js"),Table=__webpack_require__("./node_modules/@mui/material/Table/Table.js"),TableHead=__webpack_require__("./node_modules/@mui/material/TableHead/TableHead.js"),TableRow=__webpack_require__("./node_modules/@mui/material/TableRow/TableRow.js"),TableCell=__webpack_require__("./node_modules/@mui/material/TableCell/TableCell.js"),TableBody=__webpack_require__("./node_modules/@mui/material/TableBody/TableBody.js"),styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js");const StyledTableContainer=(0,styled.Ay)(Container.A)((({theme})=>({marginTop:"2rem",padding:"0 1rem",[theme.breakpoints.up("sm")]:{padding:"0"}}))),HeaderContainer=(0,styled.Ay)("div")((({theme})=>({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",[theme.breakpoints.down("sm")]:{flexDirection:"column",alignItems:"flex-start","& > *":{marginBottom:"0.5rem"}}})));(0,styled.Ay)("span")((({isPositive})=>({color:isPositive?"green":"red"})));var navigation=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.mjs");const calculateCompoundInterest=(initialValue,months,rate=.52)=>initialValue*Math.pow(1+rate/100,months);var ResponsiveContainer=__webpack_require__("./node_modules/recharts/es6/component/ResponsiveContainer.js"),LineChart=__webpack_require__("./node_modules/recharts/es6/chart/LineChart.js"),Line=__webpack_require__("./node_modules/recharts/es6/cartesian/Line.js"),CartesianGrid=__webpack_require__("./node_modules/recharts/es6/cartesian/CartesianGrid.js"),XAxis=__webpack_require__("./node_modules/recharts/es6/cartesian/XAxis.js"),YAxis=__webpack_require__("./node_modules/recharts/es6/cartesian/YAxis.js"),Tooltip=__webpack_require__("./node_modules/recharts/es6/component/Tooltip.js");const ValuationText_styles_ValueText=(0,styled.Ay)("span")((({isPositive})=>({color:isPositive?"green":"red"}))),ValuationText=({percentageIncrease})=>(0,jsx_runtime.jsxs)(ValuationText_styles_ValueText,{isPositive:percentageIncrease>=0,children:[percentageIncrease.toFixed(2),"%"]}),components_ValuationText=ValuationText;ValuationText.__docgenInfo={description:"",methods:[],displayName:"ValuationText",props:{percentageIncrease:{required:!0,tsType:{name:"number"},description:""}}};const InvestmentList=()=>{const[investments,setInvestments]=(0,react.useState)([]),router=(0,navigation.useRouter)();(0,react.useEffect)((()=>{const storedInvestments=JSON.parse(localStorage.getItem("investments")||"[]");setInvestments(storedInvestments)}),[]);return(0,jsx_runtime.jsxs)(Container.A,{children:[(0,jsx_runtime.jsxs)(HeaderContainer,{children:[(0,jsx_runtime.jsx)(Typography.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Lista de Investimentos"}),(0,jsx_runtime.jsx)(Button.A,{variant:"contained",color:"primary",onClick:()=>{router.push("/createInvestiment")},children:"Criar novos investimentos"})]}),(0,jsx_runtime.jsx)(StyledTableContainer,{children:(0,jsx_runtime.jsxs)(Table.A,{children:[(0,jsx_runtime.jsx)(TableHead.A,{children:(0,jsx_runtime.jsxs)(TableRow.A,{children:[(0,jsx_runtime.jsx)(TableCell.A,{children:"Proprietário"}),(0,jsx_runtime.jsx)(TableCell.A,{children:"Data de Criação"}),(0,jsx_runtime.jsx)(TableCell.A,{children:"Valor Inicial"}),(0,jsx_runtime.jsx)(TableCell.A,{children:"Valor Total com Rendimentos"}),(0,jsx_runtime.jsx)(TableCell.A,{children:"Valorização"})]})}),(0,jsx_runtime.jsx)(TableBody.A,{children:investments.map((investment=>{const creationDate=new Date(investment.creationDate),now=new Date,months=12*(now.getFullYear()-creationDate.getFullYear())+(now.getMonth()-creationDate.getMonth()),totalValue=calculateCompoundInterest(investment.initialValue,months),percentageIncrease=(totalValue-investment.initialValue)/investment.initialValue*100;return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsxs)(TableRow.A,{children:[(0,jsx_runtime.jsx)(TableCell.A,{children:investment.owner}),(0,jsx_runtime.jsx)(TableCell.A,{children:investment.creationDate}),(0,jsx_runtime.jsxs)(TableCell.A,{children:["R$",investment.initialValue.toFixed(2)]}),(0,jsx_runtime.jsxs)(TableCell.A,{children:["R$",totalValue.toFixed(2)]}),(0,jsx_runtime.jsx)(TableCell.A,{children:(0,jsx_runtime.jsx)(components_ValuationText,{percentageIncrease})})]}),(0,jsx_runtime.jsx)(TableRow.A,{children:(0,jsx_runtime.jsx)(TableCell.A,{colSpan:5,children:(0,jsx_runtime.jsx)(ResponsiveContainer.u,{width:"100%",height:300,children:(0,jsx_runtime.jsxs)(LineChart.b,{data:Array.from({length:months},((_,i)=>({month:i+1,value:calculateCompoundInterest(investment.initialValue,i+1),percentage:(calculateCompoundInterest(investment.initialValue,i+1)-investment.initialValue)/investment.initialValue*100}))),children:[(0,jsx_runtime.jsx)(Line.N,{type:"monotone",dataKey:"value",stroke:"#8884d8",name:"Valor"}),(0,jsx_runtime.jsx)(Line.N,{type:"monotone",dataKey:"percentage",stroke:"#82ca9d",name:"Valorização (%)"}),(0,jsx_runtime.jsx)(CartesianGrid.d,{stroke:"#ccc"}),(0,jsx_runtime.jsx)(XAxis.W,{dataKey:"month"}),(0,jsx_runtime.jsx)(YAxis.h,{}),(0,jsx_runtime.jsx)(Tooltip.m,{})]})})})})]},investment.id)}))})]})})]})},components_InvestmentList=InvestmentList;InvestmentList.__docgenInfo={description:"",methods:[],displayName:"InvestmentList"};const InvestmentList_stories={title:"Components/InvestmentList",component:components_InvestmentList},Default=(args=>(0,jsx_runtime.jsx)(components_InvestmentList,{...args})).bind({});Default.args={};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <InvestmentList {...args} />",...Default.parameters?.docs?.source}}}}}]);